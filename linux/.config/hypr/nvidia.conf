# Hyprland NVIDIA Configuration
# See: https://wiki.hypr.land/Nvidia/

# Required environment variables for NVIDIA
env = LIBVA_DRIVER_NAME,nvidia
env = GBM_BACKEND,nvidia-drm
env = __GLX_VENDOR_LIBRARY_NAME,nvidia

# Cursor fix (cursor becomes invisible without this)
env = WLR_NO_HARDWARE_CURSORS,1

# For explicit sync (NVIDIA 555+ required)
env = __GL_GSYNC_ALLOWED,0
env = __GL_VRR_ALLOWED,0

# If you have issues with screenshare or XWayland, try uncommenting:
# env = __GLX_VENDOR_LIBRARY_NAME,

# Hardware acceleration
env = NVD_BACKEND,direct

# XDG portal hint
env = XDG_SESSION_TYPE,wayland

# Qt Wayland
env = QT_QPA_PLATFORM,wayland;xcb
env = QT_WAYLAND_DISABLE_WINDOWDECORATION,1

# Cursor theme
env = XCURSOR_SIZE,24

# Electron/Chromium Wayland support (add --ozone-platform=wayland to app flags too)
env = ELECTRON_OZONE_PLATFORM_HINT,wayland

cursor {
    no_hardware_cursors = true
}

render {
    explicit_sync = 2
}
